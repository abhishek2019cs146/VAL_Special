<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8">
<title>For Anjali â¤ï¸</title>

<style>
body{
margin:0;
font-family:cursive;
text-align:center;
background:linear-gradient(135deg,#ff9a9e,#fad0c4);
color:white;
overflow:hidden;
transition:0.5s;
}

section{
min-height:100vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
padding:20px;
}

.hidden{display:none;}

button{
padding:14px 24px;
margin:12px;
border:none;
border-radius:30px;
background:#ff4d6d;
color:white;
font-size:18px;
cursor:pointer;
}

.dark{ background:black !important; }

.heart{
position:fixed;
font-size:20px;
animation:floatUp 1s ease-out forwards;
pointer-events:none;
}

@keyframes floatUp{
0%{transform:translateY(0) scale(1);opacity:1;}
100%{transform:translateY(-80px) scale(1.8);opacity:0;}
}

#memoryContainer img, video{
width:90%;
max-width:400px;
border-radius:20px;
}

</style>
</head>

<body>

<audio id="music" loop>
<source src="song.mp3" type="audio/mp3">
</audio>

<audio id="beat" loop>
<source src="heartbeat.mp3" type="audio/mp3">
</audio>

<!-- LANDING -->

<section id="landing">
<h1>Hey Anjali ğŸ’–</h1>
<p>I made something special for youâ€¦</p>
<button onclick="start()">Start ğŸ’«</button>
</section>

<!-- MEMORIES -->

<section id="memories" class="hidden">
<h2>Our Memories ğŸ“¸</h2>
<div id="memoryContainer"></div>
<p id="memoryCaption"></p>
<button onclick="nextMemory()">Next âœ</button>
</section>

<!-- REASONS -->

<section id="reasons" class="hidden">
<h2>Tap to see why I love you ğŸ’–</h2>
<h3 id="reasonText">Your kindness ğŸ’–</h3>
<button onclick="nextReason()">Tap ğŸ’«</button>
<button onclick="showFuture()">Next âœ</button>
</section>

<!-- FUTURE -->

<section id="future" class="hidden">
<h2>Our Future ğŸŒ</h2>
<p>ğŸŒ™ Late night walks</p>
<p>â˜• Coffee dates</p>
<p>âœˆï¸ Trips together</p>
<p>ğŸ¡ Our little home</p>
<button onclick="startHeartbeat()">Next âœ</button>
</section>

<!-- HEARTBEAT -->

<section id="heartbeatSection" class="hidden">
<h2>â¤ï¸ Every heartbeat says your nameâ€¦</h2>
<p>(tap anywhere)</p>
<div id="typeText"></div>
</section>

<!-- PROPOSAL -->

<section id="proposal" class="hidden">
<h2>Will You Be My Valentine? ğŸ’˜</h2>
<button onclick="sayYes()">YES ğŸ˜</button>
<button id="noBtn">NO ğŸ˜œ</button>
<h3 id="finalMsg"></h3>
</section>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>

/* ELEMENTS */

const landing = document.getElementById("landing");
const memories = document.getElementById("memories");
const reasons = document.getElementById("reasons");
const future = document.getElementById("future");
const heartbeatSection = document.getElementById("heartbeatSection");
const proposal = document.getElementById("proposal");

const music = document.getElementById("music");
const beat = document.getElementById("beat");

const memoryContainer = document.getElementById("memoryContainer");
const memoryCaption = document.getElementById("memoryCaption");
const reasonText = document.getElementById("reasonText");
const typeText = document.getElementById("typeText");
const finalMsg = document.getElementById("finalMsg");

/* â¤ï¸ HEART POP */

function createHeart(x,y){
const heart=document.createElement("div");
heart.className="heart";
heart.innerHTML="â¤ï¸";
heart.style.left=x+"px";
heart.style.top=y+"px";
document.body.appendChild(heart);
setTimeout(()=>heart.remove(),1000);
}

document.addEventListener("click",(e)=>createHeart(e.clientX,e.clientY));
document.addEventListener("touchstart",(e)=>{
const t=e.touches[0];
createHeart(t.clientX,t.clientY);
});

/* START */

function start(){
music.play();
landing.classList.add("hidden");
memories.classList.remove("hidden");
showMemory();
}

/* MEMORIES DATA */

const memoriesData = [

{ type:"image", src:"img1.jpg", caption:"The day we first met â¤ï¸" },
{ type:"image", src:"img2.jpg", caption:"Us Together ğŸ˜" },
{ type:"image", src:"img3.jpg", caption:"My favourite day with you ğŸŒ¸" },
{ type:"video", src:"memory.mp4", caption:"You = my happiest place ğŸ¬ğŸ’–" },
{ type:"image", src:"img4.jpg", caption:"Forever starts here ğŸ’" }

];

let memoryIndex = 0;

function showMemory(){

const item = memoriesData[memoryIndex];

memoryContainer.innerHTML="";
memoryCaption.innerText=item.caption;

if(item.type==="image"){
music.play();
memoryContainer.innerHTML=`<img src="${item.src}">`;
}

if(item.type==="video"){
music.pause();
memoryContainer.innerHTML=`
<video controls autoplay playsinline>
<source src="${item.src}" type="video/mp4">
</video>`;
}
}

function nextMemory(){

memoryIndex++;

if(memoryIndex < memoriesData.length){
showMemory();
}else{
memories.classList.add("hidden");
reasons.classList.remove("hidden");
music.play();
}

}

/* REASONS */

const reasonsList=[
"Your kindness ğŸ’–",
"Your smile ğŸŒ¸",
"The way you say my name ğŸ˜­",
"How you make my worst days better ğŸ«¶",
"Your cute anger ğŸ˜†",
"Everything about you â¤ï¸"
];

let r=0;

function nextReason(){
r=(r+1)%reasonsList.length;
reasonText.innerText=reasonsList[r];
}

function showFuture(){
reasons.classList.add("hidden");
future.classList.remove("hidden");
}

/* HEARTBEAT */

const paragraph=[
"In the quiet moments between my heartbeats,",
"itâ€™s your name that echoes softly inside me.",
"In dreams I never knew I had,",
"itâ€™s your smile that rises like sunrise after the longest night.",
"You are the reason ordinary days feel magical,",
"the reason my world has learned how to blush.",
"So today Iâ€™m not just asking a questionâ€¦",
"Iâ€™m making a promise.",
"Will you be my Valentine â€” forever? â¤ï¸"
];

let p=0;

function startHeartbeat(){
future.classList.add("hidden");
music.pause();
heartbeatSection.classList.remove("hidden");
document.body.classList.add("dark");
beat.currentTime=0;
beat.play();
}

heartbeatSection.addEventListener("click",()=>{

if(p<paragraph.length){
typeText.innerHTML+=paragraph[p]+"<br><br>";
p++;
}
else{
beat.pause();
document.body.classList.remove("dark");
heartbeatSection.classList.add("hidden");
proposal.classList.remove("hidden");
music.play();
}

});

/* YES MESSAGE */

function sayYes(){

confetti();

finalMsg.innerHTML = `
YASSSS ğŸ˜â¤ï¸<br><br>

Mission â€œMake You Mine Foreverâ€ â€” SUCCESSFUL ğŸ‰<br><br>

So Madamâ€¦<br>
Get ready for tomorrow ğŸ˜Œâœ¨<br><br>

ğŸï¸ First â€” a long romantic bike ride (of course you'll drive ğŸ’–)<br><br>

Then â€” a coffee date â˜•<br>
where time will stop<br>
and it will just be youâ€¦ and meâ€¦ and your beautiful smile.<br><br>

Dress code: Cute as always â¤ï¸<br><br>

Be ready, my love ğŸ’–
`;
}

/* RUNAWAY NO */

const noBtn=document.getElementById("noBtn");

function moveButton(){
const rect=noBtn.getBoundingClientRect();
const maxX=window.innerWidth-rect.width-10;
const maxY=window.innerHeight-rect.height-10;
noBtn.style.position="fixed";
noBtn.style.left=Math.random()*maxX+"px";
noBtn.style.top=Math.random()*maxY+"px";
}

noBtn.addEventListener("mouseover",moveButton);
noBtn.addEventListener("touchstart",moveButton);

</script>

</body>
</html>
